## 제어흐름
- 프로그램을 작성할 때 제어흐름은 빠질 수 없음, 잘 알고있다시피 if와 when을 주로 사용함

### IF문
```
public String getUnixSocketPolling(boolean isBsd){
    if(isBsd){
        return "Kqueue";
    }else{
        return "epoll";
    }
}
```
- 대충 자바라 소스가 간결하지 못하단 소리
- 코틀린에서는 if가 식이기 때문에 값을 반환할 수 있다.
- 위의 함수를 코틀린으로는 다음과 같이 작성할 수 있음
```
fun getUnixSocketPolling(isBsd: Boolean): String{
    return if (isBsd){
        "kqueue"
    }else{
        "epoll"
    }
}
```
- 더 짧게 작성하면 아래와 같다
```
fun getUnixSocketPolling (isBsd: Boolean): String = if (isBsd) "kqueue" else "epoll"
```
- if가 식이라는 사실 덕분에 지역 변수를 선언하지 않아도 됨
- 여기서도 단일식 함수와 타입 추론을 사용하고 있음
- if가 String타입의 값을 반환하고 있다는 것이 중요한 부분임
- 여러개의 return문을 사용할 필요도 없고, 가변 변수를 사용할 필요가 없다 

## When 조건식
- if문에 더 많은 조건을 넣고 싶다면 어떻게 해야할까
- 자바에서는 switch문을 사용한다. 코틀린에서는 when을 사용함
- when은 코틀린의 다른 기능과 결합해서 사용할 때 훨씬 강력함. 슈퍼히어로의 이름을 넣으면 그의 숙적이 누구인지 알려주는 메소드를 알아보자
```
fun archenemy(heroName : String) = when(heroName){
    "배트맨" -> "조커"
    "슈퍼맨" -> "렉스 루터"
    "스파이더맨" -> "그린고블린"
    else -> "ㅈㅅ 모름"
}
//키포인트는 mapOf때처럼 ,로 구분자를 주는 것이 아닌 그대로 -> 당 하나로 ,를 입력하지 않ㄴ는다 까먹지 말도록
```
- when 조건식은 매우 강력하다. 2장에서 범위, 열거형, 봉인 클래스와 when조건식을 함께 사용하는 법을 자세히 설명할 것
- 일반적으로 셋 이상 조건이 필요하다면 when을 사용하고 단순한 경우에는 if를 사용함

## 텍스트 다루기
- 지금까지 텍스트를 다루는 예제를 확인했다.
- 문자열을 사용하지 않고는 (아주 이상하고 불편한 방법을 사용하지 않는 이상) Hello Kotlin도 출력하지 못하거나 적어도 매우 어색하고 불편했을 것임
- 이 절에는 텍스트를 효율적으로 다루기 위한 기능을 더 심도있게 살펴볼 것임

### 문자열 보간
- 위의 예제에서 만든 하뭇의 결과를 실제로 출력하기를 원한다고 치자
- 이미 앞의 예제들에서 봤겠지만 코틀린은 자바의 장황한 System.out.println 명령을 감싸고 있는 println()이라는 함수를 기본으로 제공함
- 중요한 것은 코틀린이 다른 최신 언어들과 마찬가지로 ${}문법을 활용한 문자열 보간(String Interpolation)을 지원한다는 것임
- 앞의 예제에서 이어지는 다음코드를 보자
```
val hero = "배트맨"
println("$hero, 그의 숙적은  ${archenemy(hero)}")
```
- 이 코드를 실행하면 다음과 같이 나옴
```
> 배트맨, 그의 숙적은 조커
```
- 함수 값을 넣을 때에는 중괄호로 감싸야 한다는 점에서 주의하셈
- 그냥 변수라면 중괄호는 생략할 수 있다

### 여러 줄 문자열
- 코틀린은 여러 줄 문자열(mutiline String, 미처리 문자열이라고도 함)을 지원한다.
- 다른 최신 언어에도 존재하는 기능이며 자바 15에는 텍스트 블록 이라는 이름으로 도입됨
- 개념은 매우 단순함. 여러줄에 걸쳐 있는 텍스트를 출력하고자 함.
- 예를 들어 루이스 캐롤이 지은 "이상한 나라의 앨리스"의 일부분을 출력하자
- 여러 줄을 하나의 문자열로 만들기 위해 다음과 같이 할 수 있음
```
//1번 케이스
println("반짝 반짝 작은 박쥐 \n" +
"어디 있는지 모르겠다. \n" +
"세상 꼭대기로 나네 \n" +
"하늘 속 쟁반 같구나 \n" +
"반짝반짝 작은 박쥐 \n" +
"어디 있는지 모르겠다! \n" +)
```
- 위 방법은 솔직히 귀찮다
- 아래 방법처럼 삼중따옴표로 문자열 리터럴을 정의할 수 있다.
```
//1번 케이스
println("""반짝 반짝 작은 박쥐
어디 있는지 모르겠다.
세상 꼭대기로 나네
하늘 속 쟁반 같구나
반짝반짝 작은 박쥐
어디 있는지 모르겠다!"""
)
```
- 같은 방법을 훨씬 더 꺠끗한 방법으로 해냈다. 하지만 위의 예제를 실행시켜보면 시의 들여쓰기가 예상과 다르게 출력되는 것을 알 수 있다.
- 여러 줄 문자열이 탭과 같은 공백 문자를 보존하기 때문에 생기는 현상임
- 제대로 출력하려면 다음과 같이 trimIndent() 함수를 호출해야함
```
println("""
반짝반짝 작은 박쥐
어디 있는지 모르겠다!
""".trimIndent())
```
- 여러 줄 문자열에는 또 다른 쓸모가 있다.
- 여러 줄 문자열 안에 있는 따옴표는 이스케이프 하지 않아도 된다는 점
- 다음 예제를 보자
```
println("소설 \" 이상한 나라의 앨리스 \ "에서 발췌")
```
- 일반 문자열에서는 이처럼 텍스트에 포함된 따옴표를 역슬래시로 이스케이프 해야 한다.
